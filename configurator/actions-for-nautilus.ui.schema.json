{
	"$schema": "http://json-schema.org/draft-06/schema#",
	"$ref": "#/$defs/ActionsForNautilus",
	"$defs": {
		"MimeType": {
			"type": "string",
			"pattern": "^(!?[A-Za-z0-9-]+\\/(([A-Za-z0-9-]+)|\\*))|(\\*)|(\\*\\/\\*)$",
			"title": "Mimetype"
		},
		"MimeTypes": {
			"type": "object",
			"additionalProperties": false,
			"format": "grid-strict",
			"properties": {
				"mimetypes": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/$defs/MimeType"
					},
					"title": "Mimetypes",
					"options": {
						"infoText": "#command:mimetypes",
						"grid_columns": 9
					}
				},
				"mimetypes_strict_match": {
					"type": "boolean",
					"title": "Strict match",
					"options": {
						"infoText": "#command:strict_match",
						"grid_columns": 3
					}
				}
			},
			"required": [
				"mimetypes",
				"mimetypes_strict_match"
			]
		},
		"PathPattern": {
			"type": "string",
			"format": "pattern",
			"title": "Path pattern",
			"options": {
				"infoText": "#command:path_pattern"
			}
		},
		"PathPatterns": {
			"type": "object",
			"additionalProperties": false,
			"format": "grid-strict",
			"properties": {
				"path_patterns": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/$defs/PathPattern"
					},
					"title": "Path patterns",
					"options": {
						"infoText": "#command:path_patterns",
						"grid_columns": 9

					}
				},
				"path_patterns_strict_match": {
					"type": "boolean",
					"title": "Strict match",
					"options": {
						"infoText": "#command:strict_match",
						"grid_columns": 3
					}
				}
			},
			"required": [
				"path_patterns",
				"path_patterns_strict_match"
			]
		},
		"SortStyles": {
			"type": "string",
			"enum": [
				"manual",
				"auto"
			],
			"default": "manual",
			"title": "Menu sorting"
		},
		"InterpolationStyles": {
			"type": "string",
			"enum": [
				"original",
				"improved"
			],
			"default": "improved",
			"title": "Interpolation"
		},
		"Permissions": {
			"type": "string",
			"enum": [
				"any",
				"read",
				"read-write",
				"read-execute",
				"read-write-execute",
				"!write",
				"!execute",
				"!write-execute"
			],
			"default": "any",
			"title": "Access permissions"
		},
		"FileType": {
			"type": "string",
			"enum": [
				"unknown",
				"file",
				"directory",
				"symbolic-link",
				"special",
				"shortcut",
				"mountable",
				"standard",
				"!unknown",
				"!file",
				"!directory",
				"!symbolic-link",
				"!special",
				"!shortcut",
				"!mountable",
				"!standard"
			],
			"title": "File type",
			"options": {
				"infoText": "#command:filetype"
			}
		},
		"FileTypes": {
			"type": "object",
			"additionalProperties": false,
			"format": "grid-strict",
			"properties": {
				"filetypes": {
					"type": "array",
					"uniqueItems": true,
					"format": "table",
					"items": {
						"$ref": "#/$defs/FileType"
					},
					"title": "File types",
					"options": {
						"infoText": "#command:file_types",
						"grid_columns": 9
					}
				},
				"filetypes_strict_match": {
					"type": "boolean",
					"title": "Strict match",
					"options": {
						"infoText": "#command:strict_match",
						"grid_columns": 3
					}
				}
			},
			"required": [
				"filetypes",
				"filetypes_strict_match"
			]
		},
		"Action": {
			"type": "object",
			"format": "categories",
			"headerTemplate": "{{ self.Basic.label }}",
			"oneOf": [
				{
					"title": "Command",
					"$ref": "#/$defs/Command"
				},
				{
					"title": "Menu",
					"$ref": "#/$defs/Menu"
				}
			],
			"title": "Action",
			"options": {
				"infoText": "#action"
			}
		},
		"ActionsForNautilus": {
			"type": "object",
			"additionalProperties": false,
			"format": "grid-strict",
			"properties": {
				"actions": {
					"type": "array",
					"format": "tabs",
					"items": {
						"$ref": "#/$defs/Action"
					},
					"title": "Main Menu",
					"options": {
						"infoText": "#root:actions"
					}
				},
				"sort": {
					"$ref": "#/$defs/SortStyles",
					"options": {
						"infoText": "#root:sort",
						"grid_columns": 6
					}
				},
				"debug": {
					"title": "Enable debugging output",
					"type": "boolean",
					"options": {
						"infoText": "#root:debug",
						"grid_columns": 6
					}
				}
			},
			"required": [
				"actions",
				"sort",
				"debug"
			],
			"options": {
				"disable_properties": true,
				"disable_edit_json": false
			},
			"title": "Actions For Nautilus configuration"
		},
		"Menu": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"Basic": {
					"type": "object",
					"additionalProperties": false,
					"format": "grid-strict",
					"required": [
						"label",
						"type",
						"sort",
						"disabled"
					],
					"properties": {
						"type": {
							"type": "string",
							"const": "menu",
							"default": "menu",
							"title": "Menu",
							"options": {
								"hidden": true
							}
						},
						"label": {
							"type": "string",
							"minLength": 1,
							"title": "Label for the menu",
							"options": {
								"infoText": "#submenu:label",
								"grid_columns": 12,
								"grid_break": true
							}
						},
						"sort": {
							"$ref": "#/$defs/SortStyles",
							"title": "Submenu sorting",
							"options": {
								"infoText": "#submenu:sort",
								"grid_columns": 6
							}
						},
						"disabled": {
							"type": "boolean",
							"title": "Disabled",
							"options": {
								"infoText": "#submenu:disabled",
								"grid_columns": 6
							}
						}
					}
				},
				"actions": {
					"type": "array",
					"format": "tabs",
					"items": {
						"$ref": "#/$defs/Action"
					},
					"title": "Submenu Actions",
					"options": {
						"infoText": "#submenu:actions"
					}
				}
			},
			"required": [
				"Basic",
				"actions"
			],
			"title": "Submenu",
			"options": {
				"infoText": "#submenu",
				"disable_properties": true
			}
		},
		"Command": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"Basic": {
					"type": "object",
					"additionalProperties": false,
					"format": "grid-strict",
					"options": {
						"disable_properties": true
					},
					"required": [
						"label",
						"type",
						"command_line",
						"show_if_true",
						"cwd",
						"use_shell",
						"disabled",
						"min_items",
						"max_items",
						"permissions",
						"interpolation"
					],
					"properties": {
						"type": {
							"type": "string",
							"const": "command",
							"default": "command",
							"title": "Command",
							"options": {
								"hidden": true
							}
						},
						"label": {
							"type": "string",
							"minLength": 1,
							"title": "Label for the command",
							"options": {
								"infoText": "#command:label",
								"grid_columns": 12,
								"grid_break": true
							}
						},
						"use_shell": {
							"type": "boolean",
							"options": {
								"hidden": true
							}
						},
						"command_line": {
							"type": "string",
							"minLength": 1,
							"title": "Command line to execute",
							"options": {
								"infoText": "#command:command_line",
								"grid_columns": 12
							}
						},
						"show_if_true": {
							"type": "string",
							"title": "Show if true",
							"options": {
								"infoText": "#command:show_if_true",
								"grid_columns": 12,
								"grid_break": true
							}
						},
						"cwd": {
							"type": "string",
							"title": "Current working directory",
							"options": {
								"infoText": "#command:cwd",
								"grid_columns": 6
							}
						},
						"interpolation": {
							"$ref": "#/$defs/InterpolationStyles",
							"title": "Interpolation",
							"options": {
								"infoText": "#command:interpolation",
								"grid_columns": 6,
								"grid_break": true
							}
						},
						"min_items": {
							"type": "integer",
							"minimum": 1,
							"title": "Min items",
							"format": "number",
							"default": 1,
							"options": {
								"infoText": "#command:min_items",
								"grid_columns": 6
							}
						},
						"max_items": {
							"type": "integer",
							"minimum": 0,
							"title": "Max items",
							"format": "number",
							"default": 0,
							"options": {
								"infoText": "#command:max_items",
								"grid_columns": 6,
								"grid_break": true
							}
						},
						"permissions": {
							"$ref": "#/$defs/Permissions",
							"options": {
								"infoText": "#command:permissions",
								"grid_columns": 6
							}
						},
						"disabled": {
							"type": "boolean",
							"title": "Disabled",
							"options": {
								"infoText": "#command:disabled",
								"grid_columns": 6
							}
						}
					}
				},
				"MimeTypes": {
					"type": "object",
					"format": "grid-strict",
					"title": "Mimetypes",
					"$ref": "#/$defs/MimeTypes"
				},
				"FileTypes": {
					"type": "object",
					"format": "grid-strict",
					"title": "File types",
					"$ref": "#/$defs/FileTypes"
				},
				"PathPatterns": {
					"type": "object",
					"format": "grid-strict",
					"title": "Path patterns",
					"$ref": "#/$defs/PathPatterns"
				}
			},
			"required": [
				"Basic",
				"MimeTypes",
				"FileTypes",
				"PathPatterns"
			],
			"title": "Command",
			"options": {
				"infoText": "#command"
			}
		}
	}
}